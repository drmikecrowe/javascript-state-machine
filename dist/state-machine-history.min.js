!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.StateMachineHistory=e():t.StateMachineHistory=e()}(this,function(){return function(n){var r={};function o(t){if(r[t])return r[t].exports;var e=r[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,o),e.l=!0,e.exports}return o.m=n,o.c=r,o.i=function(t){return t},o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s=1)}([function(t,e,n){"use strict";function r(t){if(0===t.length)return t;var e,n,r=t.split(/[_-]/);if(1===r.length&&r[0][0].toLowerCase()===r[0][0])return t;for(n=r[0].toLowerCase(),e=1;e<r.length;e++)n=n+r[e].charAt(0).toUpperCase()+r[e].substring(1).toLowerCase();return n}r.prepended=function(t,e){return t+(e=r(e))[0].toUpperCase()+e.substring(1)},t.exports=r},function(t,e,n){"use strict";var c=n(0);t.exports=function(t){var n=c((t=t||{}).name||t.past||"history"),r=c(t.future||"future"),e=c.prepended("clear",n),o=c.prepended(n,"back"),i=c.prepended(n,"forward"),s=c.prepended("can",o),u=c.prepended("can",i),p=t.max,f={configure:function(t){t.addTransitionLifecycleNames(o),t.addTransitionLifecycleNames(i)},init:function(t){t[n]=[],t[r]=[]},lifecycle:function(t,e){"onEnterState"===e.event&&(t[n].push(e.to),p&&t[n].length>p&&t[n].shift(),e.transition!==o&&e.transition!==i&&(t[r].length=0))},methods:{},properties:{}};return f.methods[e]=function(){this[n].length=0,this[r].length=0},f.properties[s]={get:function(){return 1<this[n].length}},f.properties[u]={get:function(){return 0<this[r].length}},f.methods[o]=function(){if(!this[s])throw Error("no history");var t=this[n].pop(),e=this[n].pop();this[r].push(t),this._fsm.transit(o,t,e,[])},f.methods[i]=function(){if(!this[u])throw Error("no history");var t=this.state,e=this[r].pop();this._fsm.transit(i,t,e,[])},f}}])});