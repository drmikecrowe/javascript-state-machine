!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.StateMachineVisualize=n():t.StateMachineVisualize=n()}(this,function(){return function(r){var e={};function o(t){if(e[t])return e[t].exports;var n=e[t]={i:t,l:!1,exports:{}};return r[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}return o.m=r,o.c=e,o.i=function(t){return t},o.d=function(t,n,r){o.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},o.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(n,"a",n),n},o.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},o.p="",o(o.s=1)}([function(t,n,r){"use strict";t.exports=function(t,n){var r,e,o;for(r=1;r<arguments.length;r++)for(o in e=arguments[r])e.hasOwnProperty(o)&&(t[o]=e[o]);return t}},function(t,n,r){"use strict";var p=r(0);function e(t,n){return u(l(t,n))}function l(t,n){n=n||{};var r=l.fetch(t),e=n.name,o=l.rankdir(n.orientation),i=l.states(r,n),s=l.transitions(r,n),a={};return e&&(a.name=e),o&&(a.rankdir=o),i&&0<i.length&&(a.states=i),s&&0<s.length&&(a.transitions=s),a}function f(t){return'"'+t+'"'}function u(t){var n,r,e=(t=t||{}).name||"fsm",o=t.states||[],i=t.transitions||[],s=t.rankdir,a=[];for(a.push("digraph "+f(e)+" {"),s&&a.push("  rankdir="+s+";"),n=0,r=o.length;n<r;n++)a.push(u.state(o[n]));for(n=0,r=i.length;n<r;n++)a.push(u.edge(i[n]));return a.push("}"),a.join("\n")}l.fetch=function(t){return"function"==typeof t?t.prototype._fsm.config:t._fsm.config},l.rankdir=function(t){return"horizontal"===t?"LR":"vertical"===t?"TB":void 0},l.states=function(t,n){var r,e=t.states;return n.init||(r=e.indexOf(t.init.from),e=e.slice(0,r).concat(e.slice(r+1))),e},l.transitions=function(t,n){var r,e,o,i=t.init,s=t.options.transitions||[],a=[];for(n.init&&i.active&&l.transition(i.name,i.from,i.to,i.dot,t,n,a),r=0,e=s.length;r<e;r++)o=t.options.transitions[r],l.transition(o.name,o.from,o.to,o.dot,t,n,a);return a},l.transition=function(t,n,r,e,o,i,s){var a,f,u,c=o.defaults.wildcard;if(Array.isArray(n))for(a=0,f=n.length;a<f;a++)l.transition(t,n[a],r,e,o,i,s);else if(n===c||void 0===n)for(a=0,f=o.states.length;a<f;a++)l.transition(t,o.states[a],r,e,o,i,s);else r===c||void 0===r?l.transition(t,n,n,e,o,i,s):"function"==typeof r||s.push(p({},{from:n,to:r,label:(u=t," "+u+" ")},e||{}))},u.state=function(t){return"  "+f(t)+";"},(u.edge=function(t){return"  "+f(t.from)+" -> "+f(t.to)+u.edge.attr(t)+";"}).attr=function(t){var n,r,e,o=Object.keys(t).sort(),i=[];for(n=0,r=o.length;n<r;n++)"from"!==(e=o[n])&&"to"!==e&&i.push(e+"="+f(t[e]));return 0<i.length?" [ "+i.join(" ; ")+" ]":""},e.dotcfg=l,e.dotify=u,t.exports=e}])});